---
layout: note
title: Linux操作（権限と所有者）
date: 2026-01-19
categories: [Linux]
tags: [Linux, 権限, 所有者, sudo]
---

## 🔐 権限と所有者とは？

Linux では **「誰が」「何を」「どこまでできるか」** を権限と所有者で管理している。

🧱 すべてのファイル・ディレクトリには以下が設定されている。

- 👤 所有者（user）

- 👥 グループ（group）

- 🌍 その他（other）

---

## 👀 権限を確認する（ls -l）

### ⚙️ 仕組み

`ls -l` は**ファイルの権限・所有者・サイズなどを表示**する。

### 🧪 例

```bash
ls -l
```

```text
-rw-r--r-- 1 root root 1234 memo.txt
```

### 🔍 表示の意味

```text
-rw-r--r--
```

| 位置     | 意味                                      |
| -------- | ----------------------------------------- |
| 1 文字目 | 種類（`-`：ファイル / `d`：ディレクトリ） |
| 2〜4     | 所有者の権限                              |
| 5〜7     | グループの権限                            |
| 8〜10    | その他の権限                              |

### 🧩 権限の種類（r / w / x）

| 権限 | 意味    | 内容     |
| ---- | ------- | -------- |
| r    | read    | 読み取り |
| w    | write   | 書き込み |
| x    | execute | 実行     |

### 📁 ディレクトリの場合

- `r`：中身を一覧表示できる

- `w`：中身を変更できる

- `x`：中に入れる（`cd` できる）

---

## ✏️ 権限を変更する（chmod）

### ⚙️ 仕組み

`chmod` は**ファイルやディレクトリの権限を変更**するコマンド。

### 🧪 例（文字指定）

```bash
chmod u+x script.sh
```

- `u`：所有者

- `+x`：実行権限を追加

### 🔢 例（数値指定）

```bash
chmod 755 script.sh
```

| 数値 | 意味      |
| ---- | --------- |
| 7    | r + w + x |
| 5    | r + x     |
| 5    | r + x     |

👉 **755**
所有者はすべて許可、それ以外は読み取り＋実行のみ。

### 💡 ポイント

実務では数値指定がよく使われる

---

## スクリプト実行前の `chmod +x `は定番

## 👤 所有者・グループを変更する（chown）

### ⚙️ 仕組み

`chown` は**ファイルの所有者・グループを変更**するコマンド。

### 🧪 例

```bash
chown user memo.txt
```

```bash
chown user:group memo.txt
```

### 💡 ポイント

- 主に root 権限で実行する

- サーバー設定やデプロイ作業で使用される

---

## 🛡 管理者権限で実行する（sudo）

### ⚙️ 仕組み

`sudo` は**一時的に管理者（root）権限でコマンドを実行**する仕組み。

### 🧪 例

```bash
sudo rm memo.txt
```

### 💡 ポイント

- 普段は一般ユーザーで作業

- 必要なときだけ sudo を使う

- 実行前にコマンド内容を必ず確認する

## 🔄 よくある実務の流れ

```bash
ls -l
chmod 644 config.conf
sudo chown root:root config.conf
```

- 🧭「確認 → 権限変更 → 所有者変更」が基本の流れ。

---

## ✅ まとめ

| コマンド   | 内容                 |
| ---------- | -------------------- |
| 👀 `ls -l` | 権限・所有者を確認   |
| ✏️ `chmod` | 権限を変更           |
| 👤 `chown` | 所有者・グループ変更 |
| 🛡 `sudo`   | 管理者権限で実行     |
